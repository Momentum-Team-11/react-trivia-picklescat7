import React from "react";

const Question = ({question, correct_answer, incorrect_answers, index}) => {

  let allAnswersArray = incorrect_answers; //assigning incorrect_answers to new array 'allAnswersArray'
    allAnswersArray = [...allAnswersArray, correct_answer] //adding in the correct_answer
    // console.log(`all answers: ${allAnswersArray}`)
    
    //working shuffle function - bless you for once stackoverflow
    const shuffleArray = (array) => {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }
    const answersShuffled = allAnswersArray
    shuffleArray(answersShuffled)
    
    return (
      //next step- how do I make true always displays first
      <div className="question-container">
        <h2 className="question-title" key={index}>Question: {question}</h2>
        <ul className="answer-buttons">
          <p key={index}>the correct answer is {correct_answer}</p>
          <button key={index}>{answersShuffled[0]}{index}</button>
          <button key={index}>{answersShuffled[1]}{index}</button>
          <button key={index}>{answersShuffled[2]}</button>
          <button key={index}>{answersShuffled[3]}</button>
        </ul>
      </div>
    );
};

export default Question;

function App() {
  const [mood] = React.useState("happy");

  const greet = () => alert("Hi there! :)");

  return (
    <button onClick={answersShuffled[0] === question.correct_answer ? 
      false : true}>
      Say hi
    </button>
  );
}



    let handleClick = (i) => {
      if (answersShuffled[i] === question.correct_answer) {
        console.log('correct answer selected');
              setScore((score += 1));
              console.log(score);
              setIsAnswered(true);
              setIsCorrect(true);
    }
    console.log('incorrect answer selected');
    setIsCorrect(false)
    setIsAnswered(true)
  }
  console.log(handleClick[1])


<div className="answer-buttons">
<button id="btn-1" disabled={isAnswered}  //once isAnswered state becomes true, it will disable the button
  onClick={() => {
    {answersShuffled[0] === question.correct_answer ? (
      console.log('correct answer selected');
      setScore((score += 1));
      console.log(score);
      setIsAnswered(true);
      setIsCorrect(true);
    ) : (
      console.log('incorrect answer selected');
      setIsCorrect(false)
      setIsAnswered(true)
    )
  }}
>
  {answersShuffled[0]}</button>
  <button id= "btn-2" disabled={isAnswered}
    onClick={() => {
      setIsAnswered(true);
    }}
  >
    {question.incorrect_answers}</button>
</div>
</div>
);
};
